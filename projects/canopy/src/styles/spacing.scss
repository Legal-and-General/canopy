@use 'sass:list';
@use 'sass:map';
@use 'mixins';

:root {
  --space-1: var(--sm-space-1);
  --space-2: var(--sm-space-2);
  --space-3: var(--sm-space-3);
  --space-4: var(--sm-space-4);
  --space-5: var(--sm-space-5);
  --space-6: var(--sm-space-6);
  --space-7: var(--sm-space-7);
  --space-8: var(--sm-space-8);
  --space-9: var(--sm-space-9);
  --space-10: var(--sm-space-10);

  @include mixins.lg-breakpoint('md') {
    --space-1: var(--md-space-1);
    --space-2: var(--md-space-2);
    --space-3: var(--md-space-3);
    --space-4: var(--md-space-4);
    --space-5: var(--md-space-5);
    --space-6: var(--md-space-6);
    --space-7: var(--md-space-7);
    --space-8: var(--md-space-8);
    --space-9: var(--md-space-9);
    --space-10: var(--md-space-10);
  }

  @include mixins.lg-breakpoint('lg') {
    --space-1: var(--lg-space-1);
    --space-2: var(--lg-space-2);
    --space-3: var(--lg-space-3);
    --space-4: var(--lg-space-4);
    --space-5: var(--lg-space-5);
    --space-6: var(--lg-space-6);
    --space-7: var(--lg-space-7);
    --space-8: var(--lg-space-8);
    --space-9: var(--lg-space-9);
    --space-10: var(--lg-space-10);
  }

  @include mixins.lg-breakpoint('xl') {
    --space-1: var(--xl-space-1);
    --space-2: var(--xl-space-2);
    --space-3: var(--xl-space-3);
    --space-4: var(--xl-space-4);
    --space-5: var(--xl-space-5);
    --space-6: var(--xl-space-6);
    --space-7: var(--xl-space-7);
    --space-8: var(--xl-space-8);
    --space-9: var(--xl-space-9);
    --space-10: var(--xl-space-10);
  }

  @include mixins.lg-breakpoint('xxl') {
    --space-1: var(--xxl-space-1);
    --space-2: var(--xxl-space-2);
    --space-3: var(--xxl-space-3);
    --space-4: var(--xxl-space-4);
    --space-5: var(--xxl-space-5);
    --space-6: var(--xxl-space-6);
    --space-7: var(--xxl-space-7);
    --space-8: var(--xxl-space-8);
    --space-9: var(--xxl-space-9);
    --space-10: var(--xxl-space-10);
  }

  --component-padding: var(--space-4);
  --component-margin: var(--space-5);

  @include mixins.lg-breakpoint('md') {
    --component-padding: var(--space-6);
  }

  @include mixins.lg-breakpoint('lg') {
    --component-margin: var(--space-6);
  }
}

$spacing-list: ('none', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10');

@function space($val) {
  @if $val == 'none' {
    @return 0;
  } @else {
    @return var(--space-#{$val});
  }
}

// Default margin / padding / row-gap
@each $val in $spacing-list {
  .lg-margin--#{$val} {
    margin: space($val) !important;
  }

  .lg-padding--#{$val} {
    padding: space($val) !important;
  }

  .lg-row-gap--#{$val} {
    row-gap: space($val) !important;
  }
}

// Specific margin / padding
@each $val in $spacing-list {
  .lg-margin__top--#{$val} {
    margin-top: space($val) !important;
  }

  .lg-padding__top--#{$val} {
    padding-top: space($val) !important;
  }

  .lg-margin__right--#{$val} {
    margin-right: space($val) !important;
  }

  .lg-padding__right--#{$val} {
    padding-right: space($val) !important;
  }

  .lg-margin__bottom--#{$val} {
    margin-bottom: space($val) !important;
  }

  .lg-padding__bottom--#{$val} {
    padding-bottom: space($val) !important;
  }

  .lg-margin__left--#{$val} {
    margin-left: space($val) !important;
  }

  .lg-padding__left--#{$val} {
    padding-left: space($val) !important;
  }
}

// Breakpoint-specific none classes
// Generate breakpoint list from the breakpoints map in mixins
$breakpoint-list: map.keys(mixins.$breakpoints);

// Mixin to generate none classes for a specific property and breakpoint
// Duplicate class selector to increase specificity (0,2,0) vs regular classes (0,1,0)
@mixin generate-none-classes($property, $breakpoint) {
  .lg-#{$property}--#{$breakpoint}--none.lg-#{$property}--#{$breakpoint}--none {
    #{$property}: 0 !important;
  }

  .lg-#{$property}__top--#{$breakpoint}--none.lg-#{$property}__top--#{$breakpoint}--none {
    #{$property}-top: 0 !important;
  }

  .lg-#{$property}__right--#{$breakpoint}--none.lg-#{$property}__right--#{$breakpoint}--none {
    #{$property}-right: 0 !important;
  }

  .lg-#{$property}__bottom--#{$breakpoint}--none.lg-#{$property}__bottom--#{$breakpoint}--none {
    #{$property}-bottom: 0 !important;
  }

  .lg-#{$property}__left--#{$breakpoint}--none.lg-#{$property}__left--#{$breakpoint}--none {
    #{$property}-left: 0 !important;
  }
}

// Generate none classes for each breakpoint with proper ranges
@each $breakpoint in $breakpoint-list {
  $index: list.index($breakpoint-list, $breakpoint);

  @if $index < list.length($breakpoint-list) {
    // Get the next breakpoint to create a range
    $next-breakpoint: list.nth($breakpoint-list, $index + 1);

    // Use the new range functionality in lg-breakpoint
    @include mixins.lg-breakpoint($breakpoint, 'range', $next-breakpoint) {
      @include generate-none-classes('margin', $breakpoint);
      @include generate-none-classes('padding', $breakpoint);
    }
  } @else {
    // Last breakpoint (xxl) uses simple min-width
    @include mixins.lg-breakpoint($breakpoint) {
      @include generate-none-classes('margin', $breakpoint);
      @include generate-none-classes('padding', $breakpoint);
    }
  }
}

html,
body {
  height: 100%;
}
