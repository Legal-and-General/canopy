import { Meta, Source } from '@storybook/addon-docs';
import Feedback from '../../../docs/common/feedback.md';

<Meta title="Patterns/Promotions/Guide" parameters={{ viewMode: 'docs', previewTabs: { canvas: { hidden: true } } }} />

# Promotions

<p class="standfirst">Promotions are containers for content and actions on a specific topic, that use the Cards component and combine the Grid functionality to obtain a Magazin layout based on how many promotions you want to display.</p>

## Usage

They are used to group promotional content within a page.

Import the card module in your application:

```js
@NgModule({
  ...
  imports: [ ..., LgCardModule ],
});
```

and in your HTML, for a general promotion card with image:

```html
<lg-card
  lgShadow
  lgMarginBottom="lg"
  lgPadding="none"
  variant="promotion"
  [orientation]="{ sm: 'vertical', md: 'horizontal', lg: 'horizontal' }">
  <lg-card-hero-img [imageUrl]="imageUrl">
  </lg-card-hero-img>
  <lg-card-content>
    <h3 lgMarginBottom="xxs" class="lg-font--expressive">{{ title }}</h3>
    <p lgMarginBottom="lg">{{ text }}</p>
    <a href="#">{{ buttonText }}</a>
  </lg-card-content>
</lg-card>
```

and in your HTML, for a general promotion card with icon:

```html
<lg-card
  lgShadow
  lgMarginBottom="lg"
  variant="promotion"
  [orientation]="{ sm: 'vertical', md: 'horizontal', lg: 'horizontal' }">
  <lg-card-hero-img>
    <lg-brand-icon [name]="iconName" size="xs"></lg-brand-icon>
  </lg-card-hero-img>
  <lg-card-content>
    <h3 lgMarginBottom="xxs" class="lg-font--expressive">{{ title }}</h3>
    <p lgMarginBottom="lg">{{ text }}</p>
    <a href="#">{{ buttonText }}</a>
  </lg-card-content>
</lg-card>
```

## How it works

Canopy provides a number of patterns for a range of common scenarios, and we recommend you use those before creating something from scratch.
1. **Stand-alone Card** pattern layout.
2. **Two Cards** pattern layout.
3. **Three Cards** pattern layout.
4. **Magazine** pattern layout.

## Dos and Don'ts

### Do

1. **Do** keep the message succinct.
2. **Do** use equal amount of content across components for alignment.
3. **Do** use in line with the variants available.

## Promotions content and templates

As the promotion card is just a container for content, you can add whatever content you like.
In the examples bellow, we use The Canopy Grid System to get the desired layout and the component `LgCardHeroImageComponent` uses an image but it can be used with either an Image or a Brand Icon.

### Stand-alone card layout

```html
<div lgContainer>
  <div lgRow>
    <div lgColSm="12">
      <lg-card
        lgShadow
        lgMarginBottom="lg"
        lgPadding="none"
        variant="promotion"
        [orientation]="{ sm: 'vertical', md: 'horizontal', lg: 'horizontal' }">
        <lg-card-hero-img [imageUrl]="imageUrl">
        </lg-card-hero-img>
        <lg-card-content>
          <h3 lgMarginBottom="xxs" class="lg-font--expressive">{{ title }}</h3>
          <p lgMarginBottom="lg">{{ text }}</p>
          <a href="#">{{ buttonText }}</a>
        </lg-card-content>
      </lg-card>
    </div>
  </div>
</div>
```

### Two Cards layout

```html
<div lgContainer>
  <div lgRow>
    <div lgColSm="12" lgColLg="6">
      <lg-card
        lgShadow
        lgMarginBottom="lg"
        lgPadding="none"
        variant="promotion"
        [orientation]="{ sm: 'vertical', md: 'horizontal', lg: 'vertical' }">
        <lg-card-hero-img [imageUrl]="imageUrl">
        </lg-card-hero-img>
        <lg-card-content>
          <h3 lgMarginBottom="xxs" class="lg-font--expressive">{{ title }}</h3>
          <p lgMarginBottom="lg">{{ text }}</p>
          <a href="#">{{ buttonText }}</a>
        </lg-card-content>
      </lg-card>
    </div>
    <div lgColSm="12" lgColLg="6">
      <lg-card
        lgShadow
        lgMarginBottom="lg"
        lgPadding="none"
        variant="promotion"
        [orientation]="{ sm: 'vertical', md: 'horizontal', lg: 'vertical' }">
        <lg-card-hero-img [imageUrl]="imageUrl">
        </lg-card-hero-img>
        <lg-card-content>
          <h3 lgMarginBottom="xxs" class="lg-font--expressive">{{ title }}</h3>
          <p lgMarginBottom="lg">{{ text }}</p>
          <a href="#">{{ buttonText }}</a>
        </lg-card-content>
      </lg-card>
    </div>
  </div>
</div>
```

### Three Cards layout

```html
<div lgContainer>
  <div lgRow>
    <div lgColSm="12" lgColLg="4">
      <lg-card
        lgShadow
        lgMarginBottom="lg"
        lgPadding="none"
        variant="promotion"
        [orientation]="{ sm: 'vertical', md: 'horizontal', lg: 'vertical' }">
        <lg-card-hero-img [imageUrl]="imageUrl">
        </lg-card-hero-img>
        <lg-card-content>
          <h3 lgMarginBottom="xxs" class="lg-font--expressive">{{ title }}</h3>
          <p lgMarginBottom="lg">{{ text }}</p>
          <a href="#">{{ buttonText }}</a>
        </lg-card-content>
      </lg-card>
    </div>
    <div lgColSm="12" lgColLg="4">
      <lg-card
        lgShadow
        lgMarginBottom="lg"
        lgPadding="none"
        variant="promotion"
        [orientation]="{ sm: 'vertical', md: 'horizontal', lg: 'vertical' }">
        <lg-card-hero-img [imageUrl]="imageUrl">
        </lg-card-hero-img>
        <lg-card-content>
          <h3 lgMarginBottom="xxs" class="lg-font--expressive">{{ title }}</h3>
          <p lgMarginBottom="lg">{{ text }}</p>
          <a href="#">{{ buttonText }}</a>
        </lg-card-content>
      </lg-card>
    </div>
    <div lgColSm="12" lgColLg="4">
      <lg-card
        lgShadow
        lgMarginBottom="lg"
        lgPadding="none"
        variant="promotion"
        [orientation]="{ sm: 'vertical', md: 'horizontal', lg: 'vertical' }">
        <lg-card-hero-img [imageUrl]="imageUrl">
        </lg-card-hero-img>
        <lg-card-content>
          <h3 lgMarginBottom="xxs" class="lg-font--expressive">{{ title }}</h3>
          <p lgMarginBottom="lg">{{ text }}</p>
          <a href="#">{{ buttonText }}</a>
        </lg-card-content>
      </lg-card>
    </div>
  </div>
</div>
```

### Magazine layout

```html
<div lgContainer>
  <div lgRow>
    <div lgCol="12">
      <lg-separator variant="dotted" lgMarginTop="none"></lg-separator>
    </div>
    <div lgColSm="12" lgColLg="4">
      <lg-card
        lgShadow
        lgMarginBottom="lg"
        lgPadding="none"
        variant="promotion"
        [orientation]="{ sm: 'vertical', md: 'horizontal', lg: 'vertical' }">
        <lg-card-hero-img [imageUrl]="imageUrl">
        </lg-card-hero-img>
        <lg-card-content>
          <h3 lgMarginBottom="xxs" class="lg-font--expressive">{{ title }}</h3>
          <p lgMarginBottom="lg">{{ text }}</p>
          <a href="#">{{ buttonText }}</a>
        </lg-card-content>
      </lg-card>
    </div>
    <div lgColSm="12" lgColLg="4">
      <lg-card
        lgShadow
        lgMarginBottom="lg"
        lgPadding="none"
        variant="promotion"
        [orientation]="{ sm: 'vertical', md: 'horizontal', lg: 'vertical' }">
        <lg-card-hero-img [imageUrl]="imageUrl">
        </lg-card-hero-img>
        <lg-card-content>
          <h3 lgMarginBottom="xxs" class="lg-font--expressive">{{ title }}</h3>
          <p lgMarginBottom="lg">{{ text }}</p>
          <a href="#">{{ buttonText }}</a>
        </lg-card-content>
      </lg-card>
    </div>
    <div lgColSm="12" lgColLg="4">
      <lg-card
        lgShadow
        lgMarginBottom="lg"
        lgPadding="none"
        variant="promotion"
        [orientation]="{ sm: 'vertical', md: 'horizontal', lg: 'vertical' }">
        <lg-card-hero-img [imageUrl]="imageUrl">
        </lg-card-hero-img>
        <lg-card-content>
          <h3 lgMarginBottom="xxs" class="lg-font--expressive">{{ title }}</h3>
          <p lgMarginBottom="lg">{{ text }}</p>
          <a href="#">{{ buttonText }}</a>
        </lg-card-content>
      </lg-card>
    </div>
  </div>
  <div lgRow>
    <div lgCol="12">
      <lg-separator variant="dotted" lgMarginTop="none"></lg-separator>
    </div>
    <div lgColSm="12" lgColLg="6">
      <lg-card
        lgShadow
        lgMarginBottom="lg"
        lgPadding="none"
        variant="promotion"
        [orientation]="{ sm: 'vertical', md: 'horizontal', lg: 'vertical' }">
        <lg-card-hero-img [imageUrl]="imageUrl">
        </lg-card-hero-img>
        <lg-card-content>
          <h3 lgMarginBottom="xxs" class="lg-font--expressive">{{ title }}</h3>
          <p lgMarginBottom="lg">{{ text }}</p>
          <a href="#">{{ buttonText }}</a>
        </lg-card-content>
      </lg-card>
    </div>
    <div lgColSm="12" lgColLg="6">
      <lg-card
        lgShadow
        lgMarginBottom="lg"
        lgPadding="none"
        variant="promotion"
        [orientation]="{ sm: 'vertical', md: 'horizontal', lg: 'vertical' }">
        <lg-card-hero-img [imageUrl]="imageUrl">
        </lg-card-hero-img>
        <lg-card-content>
          <h3 lgMarginBottom="xxs" class="lg-font--expressive">{{ title }}</h3>
          <p lgMarginBottom="lg">{{ text }}</p>
          <a href="#">{{ buttonText }}</a>
        </lg-card-content>
      </lg-card>
    </div>
  </div>
  <div lgRow>
    <div lgCol="12">
      <lg-separator variant="dotted" lgMarginTop="none"></lg-separator>
    </div>
    <div lgColSm="12" lgColLg="4">
      <lg-card
        lgShadow
        lgMarginBottom="lg"
        variant="promotion"
        [orientation]="{ sm: 'vertical', md: 'horizontal', lg: 'vertical' }">
        <lg-card-hero-img>
          <lg-brand-icon [name]="iconName" size="xs"></lg-brand-icon>
        </lg-card-hero-img>
        <lg-card-content>
          <h3 lgMarginBottom="xxs" class="lg-font--expressive">{{ title }}</h3>
          <p lgMarginBottom="lg">{{ text }}</p>
          <a href="#">{{ buttonText }}</a>
        </lg-card-content>
      </lg-card>
    </div>
    <div lgColSm="12" lgColLg="4">
      <lg-card
        lgShadow
        lgMarginBottom="lg"
        variant="promotion"
        [orientation]="{ sm: 'vertical', md: 'horizontal', lg: 'vertical' }">
        <lg-card-hero-img>
          <lg-brand-icon [name]="iconName" size="xs"></lg-brand-icon>
        </lg-card-hero-img>
        <lg-card-content>
          <h3 lgMarginBottom="xxs" class="lg-font--expressive">{{ title }}</h3>
          <p lgMarginBottom="lg">{{ text }}</p>
          <a href="#">{{ buttonText }}</a>
        </lg-card-content>
      </lg-card>
    </div>
    <div lgColSm="12" lgColLg="4">
      <lg-card
        lgShadow
        lgMarginBottom="lg"
        variant="promotion"
        [orientation]="{ sm: 'vertical', md: 'horizontal', lg: 'vertical' }">
        <lg-card-hero-img>
          <lg-brand-icon [name]="iconName" size="xs"></lg-brand-icon>
        </lg-card-hero-img>
        <lg-card-content>
          <h3 lgMarginBottom="xxs" class="lg-font--expressive">{{ title }}</h3>
          <p lgMarginBottom="lg">{{ text }}</p>
          <a href="#">{{ buttonText }}</a>
        </lg-card-content>
      </lg-card>
    </div>
  </div>
  <div lgRow>
    <div lgCol="12">
      <lg-separator variant="dotted" lgMarginTop="none"></lg-separator>
    </div>
    <div lgColSm="12" lgColLg="6">
      <lg-card
        lgShadow
        lgMarginBottom="lg"
        variant="promotion"
        [orientation]="{ sm: 'vertical', md: 'horizontal', lg: 'vertical' }">
        <lg-card-hero-img>
          <lg-brand-icon [name]="iconName" size="xs"></lg-brand-icon>
        </lg-card-hero-img>
        <lg-card-content>
          <h3 lgMarginBottom="xxs" class="lg-font--expressive">{{ title }}</h3>
          <p lgMarginBottom="lg">{{ text }}</p>
          <a href="#">{{ buttonText }}</a>
        </lg-card-content>
      </lg-card>
    </div>
    <div lgColSm="12" lgColLg="6">
      <lg-card
        lgShadow
        lgMarginBottom="lg"
        variant="promotion"
        [orientation]="{ sm: 'vertical', md: 'horizontal', lg: 'vertical' }">
        <lg-card-hero-img>
          <lg-brand-icon [name]="iconName" size="xs"></lg-brand-icon>
        </lg-card-hero-img>
        <lg-card-content>
          <h3 lgMarginBottom="xxs" class="lg-font--expressive">{{ title }}</h3>
          <p lgMarginBottom="lg">{{ text }}</p>
          <a href="#">{{ buttonText }}</a>
        </lg-card-content>
      </lg-card>
    </div>
  </div>
</div>
```
## Additional development details

### LgCardComponent

The main body of the promotion card. It's composed by the following components:

- `LgCardHeroImageComponent`
- `LgCardContent`

#### Inputs
For Orientation each **key** is a mobile-first breakpoint from the standard list of available breakpoints: `xs`, `sm`, `md`, `lg`, `xl`, `xxl`.
The current available options for Orientation are `vertical`, `horizontal`, `reverse-vertical`, `reverse-horizontal`.

| Name           | Description                                                 | Type                | Default | Required |
|----------------|-------------------------------------------------------------|---------------------|---------|----------|
|   `variant`    | The variant of the card: `promotion`                        | `string`            |`default`| Yes      |
| `orientation`  | The orientation of the card content: `sm: 'vertical'`       | `SpacingResponsive` |   n/a   |  No      |

### Responsive examples of orientations

At the `sm` breakpoint apply `vertical` orientation, then at the `md` breakpoint apply `horizontal` orientation, then at the `lg` breakpoint apply `vertical` orientation.

```html

<lg-card [orientation]="{ sm: 'vertical', md: 'horizontal', lg: 'vertical' }"></lg-card>

```

### LgCardHeroImageComponent

This is the primary layout section of the card component, it is used to contain a hero Image or a Brand Icon.
An image is added via the `imageUrl` input. A Brand Icon is added via content projection using the `<lg-brand-icon>` component.

#### Displaying an Image
To display an image as the background image of this element, simply provide a URL to the desired image to the `imageUrl` input.
``
<lg-card-hero-img [imageUrl]="imageUrl">
</lg-card-hero-img>
``

To display an image, simply provide a URL to the desired image to the `imageSrc` input. Using this method will set the image to the
full width and height of the container, so you will need to choose the image size carefully to fit for purpose. We recomand a image with aspect ratio of
3:2, dimensions: 600 × 400.
``
<lg-card-hero-img [imageSrc]="imageUrl">
</lg-card-hero-img>
``

#### Displaying a Brand Icon
To use this component with a Brand Icon, the following is needed:

Import the brand icon module in your application:

```js
@NgModule({
  ...
  imports: [ ..., LgBrandIconModule ],
});
```

Import the `LgBrandIconRegistry` service and register your brand icons inside your module:

```js
// import the desired icon
import { lgBrandIconSun } from '@legal-and-general/canopy';


export class SomeModule {
  constructor(private brandIconRegistry: LgBrandIconRegistry) {
    // register the icon using the `brandIconRegistry` service
    this.brandIconRegistry.registerBrandIcon([
      lgBrandIconSun
    ]);
  }
}
```

and in the HTML
```html
<lg-card-hero-img>
  <lg-brand-icon [name]="iconName" size="xs"></lg-brand-icon>
</lg-card-hero-img>
```

#### Inputs

| Name           | Description                                                 | Type     | Default | Required |
|----------------|-------------------------------------------------------------|----------|---------|----------|
|   `imageUrl`   | The image url to be displayed: `/testUrl`                   | `string` | n/a     | No       |
|   `imageSrc`   | The image url to be displayed: `/testUrl`                   | `string` | n/a     | No       |

### LgCardContent

This is the secondary layout section of the card component, it is used to contain the cards main content and provides the inner padding of the card.

------

## Research on this component

This component hasn't been subject to any testing, but is based on best practice:

- <a href="https://uxplanet.org/best-practices-for-cards-fa45e3ad94dd" target="_blank">Best Practices for Cards</a>
- <a href="https://medium.com/nextux/design-better-cards-c0d12ab581c4" target="_blank">Design Better Cards</a>
- <a href="https://www.nngroup.com/articles/cards-component" target="_blank">Cards: UI-Component Definition</a>

## Related

Patterns which may perform a similar task, or which should be considered instead:

- [Cards](./?path=/docs/components-card-guide--page)
- [Promo Cards](./?path=/docs/components-promo-cards-guide--page)

<Feedback />
