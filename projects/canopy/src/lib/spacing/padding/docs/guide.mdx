import { Meta, Markdown } from '@storybook/addon-docs/blocks';
import Feedback from '../../../docs/common/feedback.md';
import { getDefaultSpacingVariables } from '../../../docs/foundation/spacing-utils';

<Meta title="Helpers/Directives/Padding/Guide"/>

# Padding

This directive allows for custom padding to be added without the need to write additional CSS. It's useful for overriding the default padding on Canopy components, as well as general use within your app. Using this directive ensures that your padding adheres to the predefined spacing variables and breakpoints in Canopy. The spacing variables are also available as CSS custom properties (CSS variables) which can be viewed in ***canopy/projects/canopy/src/styles/spacing.scss***.

## Usage

Import the padding directive in your application:

```js
  imports: [ ..., LgPaddingDirective ]
```

In your HTML, apply the directive to the relevant component. If the default `lgPadding` attribute has no value, the default padding will remain. You can also override individual padding such as `padding-top` by applying the relevant selector/input (.e.g `LgPaddingTop` - see the **inputs table** below).

Pass in **Spacing variant** (see below).

```html
<lg-card lgPadding="4"></lg-card>
```

## Spacing

### Spacing variants

This is set of predefined variants as defined by the `SpacingVariant` type. These are:

<pre><code className="language-text">
{(() => {
  const spacingVars = getDefaultSpacingVariables();
  const variants = Object.keys(spacingVars)
    .filter(key => key.startsWith('--space-'))
    .map(key => key.replace('--space-', ''))
    .sort((a, b) => {
      // Handle 'none' specially
      if (a === 'none') return -1;
      if (b === 'none') return 1;
      // Sort numbers numerically
      return parseInt(a) - parseInt(b);
    })
    .map(variant => `'${variant}'`)
    .join(', ');

  return `'none', ${variants}`;
})()}
</code></pre>

### Variant examples

Apply `8` padding to the bottom

```html

<lg-card lgPaddingBottom="8"></lg-card>

```

Apply `4` padding to the left and right

```html

<lg-card lgPaddingHorizontal="4"></lg-card>

```

Apply `7` padding all round, but `9` padding to the bottom

```html

<lg-card lgPadding="7" lgPaddingBottom="9"></lg-card>

```

Apply `6` padding to the top and bottom

```html

<lg-card lgPaddingVertical="6"></lg-card>

```

### None at breakpoint

When using responsive spacing variables, you may need to set padding to none (zero) at a specific breakpoint. Use the `NoneAt` inputs for this:

Apply `4` padding on all sides, but set to none at `sm` breakpoint

```html

<lg-card lgPadding="4" lgPaddingNoneAt="sm"></lg-card>

```

Apply `5` padding to the right, but set to none at the `md` breakpoint

```html

<lg-card lgPaddingRight="5" lgPaddingRightNoneAt="md"></lg-card>

```

Apply `6` padding on top and bottom, but set to none at the `lg` breakpoint

```html

<lg-card lgPaddingVertical="6" lgPaddingVerticalNoneAt="lg"></lg-card>

```

Each directive applies only within a specific range:

> `lgPaddingRightNoneAt="sm"` applies from `sm` to just before `md`
>
> `lgPaddingRightNoneAt="md"` applies from `md` to just before `lg`
>
> `lgPaddingRightNoneAt="xxl"` applies from `xxl` and up (no upper limit)

#### How NoneAt works with responsive spacing

The `NoneAt` inputs create **breakpoint-specific overrides** that only apply within a specific breakpoint range. This is particularly useful when working with responsive spacing CSS variables (like `--space-8`) that change values at different breakpoints.

**Example scenario:**

```html
<lg-card lgPadding="8" lgPaddingNoneAt="md"></lg-card>
```

This will:
- Apply `padding: var(--space-8)` which is responsive across all breakpoints
- Override to `padding: 0` **only at the `md` breakpoint** (48rem - 63.94rem)
- At `lg`, `xl`, and `xxl` breakpoints, `var(--space-8)` takes effect again with the appropriate values for those breakpoints

**Important:** The `NoneAt` classes use **range-based media queries** to ensure they only apply at the specified breakpoint, not at larger breakpoints. This allows the responsive spacing variables to work correctly across your design.

#### Migration from SpacingResponsive

If you were previously using the `SpacingResponsive` object syntax with `'none'`:

**Before:**
```html
<lg-card [lgPaddingRight]="{ sm: 'none', lg: '4' }"></lg-card>
```

**After:**
```html
<lg-card lgPaddingRight="4" lgPaddingRightNoneAt="sm" lgPaddingRightNoneAt="md"></lg-card>
```

The new approach is more compatible with responsive CSS variables and provides better specificity control.

## Inputs

The current available spacing variants are:
<pre><code className="language-text">
{(() => {
  const spacingVars = getDefaultSpacingVariables();
  const variants = Object.keys(spacingVars)
    .filter(key => key.startsWith('--space-'))
    .map(key => key.replace('--space-', ''))
    .sort((a, b) => {
      // Handle 'none' specially
      if (a === 'none') return -1;
      if (b === 'none') return 1;
      // Sort numbers numerically
      return parseInt(a) - parseInt(b);
    })
    .map(variant => `'${variant}'`)
    .join(', ');

  return `'none', ${variants}`;
})()}
</code></pre>

The current available breakpoints are `sm`, `md`, `lg`, `xl`, `xxl`

| Name                        | Description                                                            |                  Type                   | Default | Required |
|-----------------------------|------------------------------------------------------------------------|:---------------------------------------:|:-------:|:--------:|
| `lgPadding`                 | The padding variant applied to all sides                               | `SpacingVariant` \| `SpacingResponsive` | `null`  |    No    |
| `lgPaddingTop`              | The padding variant applied to the top                                 | `SpacingVariant` \| `SpacingResponsive` | `null`  |    No    |
| `lgPaddingRight`            | The padding variant applied to the right                               | `SpacingVariant` \| `SpacingResponsive` | `null`  |    No    |
| `lgPaddingBottom`           | The padding variant applied to the bottom                              | `SpacingVariant` \| `SpacingResponsive` | `null`  |    No    |
| `lgPaddingLeft`             | The padding variant applied to the left                                | `SpacingVariant` \| `SpacingResponsive` | `null`  |    No    |
| `lgPaddingHorizontal`       | The padding variant applied to the left and the right                  | `SpacingVariant` \| `SpacingResponsive` | `null`  |    No    |
| `lgPaddingVertical`         | The padding variant applied to the top and the bottom                  | `SpacingVariant` \| `SpacingResponsive` | `null`  |    No    |
| `lgPaddingNoneAt`           | Set padding to none at a specific breakpoint                           |              `Breakpoints`              | `null`  |    No    |
| `lgPaddingTopNoneAt`        | Set padding-top to none at a specific breakpoint                       |              `Breakpoints`              | `null`  |    No    |
| `lgPaddingRightNoneAt`      | Set padding-right to none at a specific breakpoint                     |              `Breakpoints`              | `null`  |    No    |
| `lgPaddingBottomNoneAt`     | Set padding-bottom to none at a specific breakpoint                    |              `Breakpoints`              | `null`  |    No    |
| `lgPaddingLeftNoneAt`       | Set padding-left to none at a specific breakpoint                      |              `Breakpoints`              | `null`  |    No    |
| `lgPaddingHorizontalNoneAt` | Set padding-left and padding-right to none at a specific breakpoint    |              `Breakpoints`              | `null`  |    No    |
| `lgPaddingVerticalNoneAt`   | Set padding-top and padding-bottom to none at a specific breakpoint    |              `Breakpoints`              | `null`  |    No    |

***

## Related

* [Margin directive](./?path=/docs/helpers-directives-margin-guide--docs)
* [Row gap directive](./?path=/docs/helpers-directives-row-gap-guide--docs)

<Markdown>
  {Feedback}
</Markdown>
