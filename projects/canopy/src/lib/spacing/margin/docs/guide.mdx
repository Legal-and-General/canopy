import { Meta, Markdown } from '@storybook/addon-docs/blocks';
import Feedback from '../../../docs/common/feedback.md';
import { CustomBadge } from 'storybook-addon-tag-badges';
import { getDefaultSpacingVariables } from '../../../docs/foundation/spacing-utils';

<Meta title="Helpers/Directives/Margin/Guide"/>

# Margin

This directive allows for a custom margin to be added without the need to write additional CSS. It's useful for overriding the default margin on Canopy components, as well as general use within your app. Using this directive ensures that your margin adheres to the predefined spacing variables and breakpoints in Canopy. The spacing variables are also available as CSS custom properties (CSS variables) which can be viewed in ***canopy/projects/canopy/src/styles/spacing.scss***.

## Usage

Import the margin directive in your application:

```js
imports: [ ..., LgMarginDirective ]
```

In your HTML, apply the directive to the relevant component. If the default `lgMargin` attribute has no value, the default margin will remain. You can also override individual margin such as `margin-top` by applying the relevant selector/input (.e.g `LgMarginTop` - see the **inputs table** below).

Pass in **Spacing variant** (see below).

```html
<lg-card lgMargin="4"></lg-card>
```

## Spacing

### Spacing variants

This is set of predefined variants as defined by the `SpacingVariant` type. These are:

<pre><code className="language-text">
{(() => {
  const spacingVars = getDefaultSpacingVariables();
  const variants = Object.keys(spacingVars)
    .filter(key => key.startsWith('--space-'))
    .map(key => key.replace('--space-', ''))
    .sort((a, b) => {
      // Handle 'none' specially
      if (a === 'none') return -1;
      if (b === 'none') return 1;
      // Sort numbers numerically
      return parseInt(a) - parseInt(b);
    })
    .map(variant => `'${variant}'`)
    .join(', ');

  return `'none', ${variants}`;
})()}
</code></pre>

### Variant examples

Apply `8` margin to the bottom

```html

<lg-card lgMarginBottom="8"></lg-card>

```

Apply `4` margin to the left and right

```html

<lg-card lgMarginHorizontal="4"></lg-card>

```

Apply `7` margin all round, but `9` margin to the bottom

```html

<lg-card lgMargin="7" lgMarginBottom="9"></lg-card>

```

Apply `6` margin to the top and bottom

```html

<lg-card lgMarginVertical="6"></lg-card>

```

## Inputs

The current available spacing variants are:
<pre><code className="language-text">
{(() => {
  const spacingVars = getDefaultSpacingVariables();
  const variants = Object.keys(spacingVars)
    .filter(key => key.startsWith('--space-'))
    .map(key => key.replace('--space-', ''))
    .sort((a, b) => {
      // Handle 'none' specially
      if (a === 'none') return -1;
      if (b === 'none') return 1;
      // Sort numbers numerically
      return parseInt(a) - parseInt(b);
    })
    .map(variant => `'${variant}'`)
    .join(', ');

  return `'none', ${variants}`;
})()}
</code></pre>

The current available breakpoints are `sm`, `md`, `lg`, `xl`, `xxl`

| Name                 | Description                                          |                  Type                   | Default | Required |
|----------------------|------------------------------------------------------|:---------------------------------------:|:-------:|:--------:|
| `lgMargin`           | The margin variant applied to all sides              | `SpacingVariant` | `SpacingResponsive` | `null`  |    No    |
| `lgMarginTop`        | The margin variant applied to the top                | `SpacingVariant` | `SpacingResponsive` | `null`  |    No    |
| `lgMarginRight`      | The margin variant applied to the right              | `SpacingVariant` | `SpacingResponsive` | `null`  |    No    |
| `lgMarginBottom`     | The margin variant applied to the bottom             | `SpacingVariant` | `SpacingResponsive` | `null`  |    No    |
| `lgMarginLeft`       | The margin variant applied to the left               | `SpacingVariant` | `SpacingResponsive` | `null`  |    No    |
| `lgMarginHorizontal` | The margin variant applied to the left and the right | `SpacingVariant` | `SpacingResponsive` | `null`  |    No    |
| `lgMarginVertical`   | The margin variant applied to the top and the bottom | `SpacingVariant` | `SpacingResponsive` | `null`  |    No    |

***

## Related

* [Padding directive](./?path=/docs/helpers-directives-padding-guide--docs)
* [Row gap directive](./?path=/docs/helpers-directives-row-gap-guide--docs)

<Markdown>
  {Feedback}
</Markdown>
