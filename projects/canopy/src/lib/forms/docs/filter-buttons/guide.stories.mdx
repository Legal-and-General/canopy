import { Meta, Source } from '@storybook/addon-docs';

<Meta title="Components/Filter buttons/Guide" parameters={{ viewMode: 'docs', previewTabs: { canvas: { hidden: true } } }} />

# Filter buttons

<p class="standfirst">Filter buttons help users to narrow down large data sets, like their documents or payments, by giving them a clear and friendly option for filtering the data. Filter buttons should usually be contained in a filter container - see the design pattern, <a href="./?path=/docs/components-filter-container--standard-filter-container">help user to filter results</a>.</p>

![Filter button component example](docs/forms/filter-button/example.png)

## Usage

Use a filter button when you have 10 or fewer filter options. If the user can only choose one option, use the 'Select One' state. If the user can choose multiple options, use the 'Select Multiple' state.

If there are more than 10 filter options, use radio buttons or check boxes instead to avoid cluttering a filter panel.

Filter buttons are best used in conjunction with the pattern - [help user to filter results](./?path=/docs/components-filter-container--standard-filter-container). This pattern provides a container into which filter buttons can be grouped:

![Filter container example](docs/forms/filter-button/filter-container.png)


### Select One

Import the Radio Module into your application:

```js
@NgModule({
  ...
  imports: [ ..., LgRadioModule ],
})
```

### Select Multiple

Import the CheckboxGroup and Toggle modules into your application:

```js
@NgModule({
  ...
  imports: [ ..., LgCheckboxGroupModule, LgToggleModule ],
})
```



## How it works

When a user selects a filter button within a filter panel for a list of content, the filter button shows a selected state. The choice needs to be saved in the filter panel before the user will see their filters reflected in the content.

### Select One

When a user selects a Select One filter button, clicking another will deselect the original and highlight the new selection.

![Select one - button example](docs/forms/filter-button/single.png)



### Select Multiple

When a user selects a Select Multiple filter button, they can click to deselect it. They can click other filters in the same group to add multiple options, and remove them individually.

![Select multiple - button example](docs/forms/filter-button/multiple.png)



## Dos and Don'ts

### Do

![Do](docs/forms/filter-button/do.png)

1. **Do** use the deselected state as the default
2. **Do** keep filter labels succinct
3. **Do** choose an appropriate button type (Select One/Select Multiple) for each filter
4. **Do** keep 12px horizontal space between buttons

### Don't

![Don't](docs/forms/filter-button/dont.png)

1. **Don't** use this component for more than 10 filter options
2. **Don't** centre or right-align the filter buttons
3. **Don't** mix Select One and Select Multiple filters in the same group



## Additional development details

### Select One

<Source id="components-filter-buttons-examples--filter-buttons"></Source>

#### LgRadioGroupComponent inputs

| Name  | Description                                                  | Type              | Default                             | Required |
| ----- | ------------------------------------------------------------ | ----------------- | ----------------------------------- | -------- |
| ``id``    | HTML ID attribute, auto generated if not provided            | string            | ``lg-radio-group-id-${nextUniqueId++}`` | No       |
| ``name``  | Set the name value for all inputs in the group, auto-generated if not provided | string            | ``lg-radio-group-${nextUniqueId++}``    | No       |
| ``value`` | Set the default checked radio button, must match the value of the radio button | boolean or string | ``null``                                | No       |
| ``focus`` | Set the focus on the fieldset                                | boolean           | ``null``                                | No       |

#### LgRadioButtonComponent inputs

| Name            | Description                                                  | Type    | Default                           | Required |
| --------------- | ------------------------------------------------------------ | ------- | --------------------------------- | -------- |
| ``id``              | HTML ID attribute, auto generated if not provided            | string  | ``lg-radio-button-${++nextUniqueId}`` | No       |
| ``name``            | HTML name attribute                                          | string  | ``null``                              | Yes      |
| ``value``           | HTML value attribute                                         | string  | ``null``                              | Yes      |
| ``ariaDescribedBy`` | HTML ID for the corresponding element that describes the radio, if not provided it will use the hint field where appropriate. | boolean | ``null``                              | No       |

#### LgRadioButtonComponent outputs

| Name | Description                             | Type         | Default | Required         |
| ---- | --------------------------------------- | ------------ | ------- | ---------------- |
| blur | Event emitted on blur of a radio button | EventEmitter | n/a     | No |


-----

### Select Multiple

<Source id="components-filter-buttons-examples--filter-multiple-buttons"></Source>

#### LgCheckboxGroupComponent inputs
| Name            | Description                                                  | Type    | Default                           | Required |
| --------------- | ------------------------------------------------------------ | ------- | --------------------------------- | -------- |
| ``id``              | HTML ID attribute, auto generated if not provided | string | ``lg-checkbox-group-id-${this.nextUniqueId}`` | No |
| ``name``            | Set the name value for all inputs in the group, auto-generated if not provided | string | `lg-checkbox-group-${this.nextUniqueId}` | No |
| ``value``           | HTML value attribute. Sets the default checked filter buttons, must match the values of the filter buttons | array of strings | ``null`` | No |
| ``focus``           | Set the focus on the fieldset | boolean | ``null`` | No |
| ``disabled``        | Set the inner filters to disabled | boolean | ``false`` | No |
| ``ariaDescribedBy`` | HTML ID for the corresponding element that describes the filters, if not provided it will use the hint field where appropriate | boolean | ``null`` | No |

#### LgToggleComponent inputs
| Name            | Description                                                  | Type    | Default                           | Required |
| --------------- | ------------------------------------------------------------ | ------- | --------------------------------- | -------- |
| ``id``          | HTML ID attribute, auto generated if not provided | string | ``lg-toggle-${++nextUniqueId}`` | No |
| ``name``        | HTML Name attribute, auto generated if not provided | string | ``lg-toggle-${++nextUniqueId}`` | No |
| ``value``       | HTML value attribute. Value that is set when the toggle is checked | string | ``null`` | No |
| ``checked``     | Check status of the toggle | boolean | ``false`` | No |
| ``focus``       | Set the focus on the input | boolean | ``null`` | No |

## Research on this component

A usability study was carried out by the Legal & General Digital Ops team in Sept 2020.

More research is needed to understand if users sufficiently understand the difference between the Select One and Select Multiple buttons.

## Related

- [Radio buttons for Select One](./?path=/docs/components-form-radio--radio)
- [Checkboxes for Select Multiple](./?path=/docs/components-form-checkbox-group--checkbox-group)
- [Segment](./?path=/docs/components-form-segment--segment-buttons)

## Help improve this page

To help make sure this page is useful, relevant and up to date, you can <a href="https://forms.office.com/r/6UMyXFeupH" target="_blank">suggest an improvement</a>.

Please take a moment to <a href="https://forms.office.com/r/ryiKP7ygUK" target="_blank">rate your experience of using Canopy</a>.

