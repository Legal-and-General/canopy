import { Meta, Markdown } from '@storybook/blocks';
import Feedback from '../../../../docs/common/feedback.md';

<Meta title="Components/Forms/Switch/Guide" />

# Switch

<p class="standfirst">A switch is used to quickly alternate between two possible states with immediate effect, usually turning a setting on or off.</p>

![example](docs/forms/switch/example.png)

## Usage

If multiple switches are being used in a form, they must be used in conjunction with a legend (grouping label).

The switch should only be used in scenarios where changing a setting immediately effects a corresponding change in the UI.

The switch component is a variant of the toggle component.

Import the toggle component in your application:

```js
@NgModule({
  ...
  imports: [ ..., LgToggleComponent ],
});
```

and in your HTML:

```html
<lg-switch formControlName="confirm" value="yes">Do you agree?</lg-switch>
```

## How it works

- In the default state, one option must be pre-selected.
- Changing the state of the switch has an immediate effect.

## Dos and Don'ts

### Do

![do](docs/forms/switch/do.png)

1. **Do** use when users need to turn a setting on or off.
2. **Do** use when changing a setting immediately effects a change in the UI.

### Don'ts

![dont](docs/forms/switch/dont.png)

1. **Don't** use multiple switches where only a single option can be selected. Use either radio buttons or the select component instead.
2. **Don't** use if the selection isn't intended to trigger an immediate effect. Use the checkbox component instead.
3. **Don't** use in conjunction with a save or submit action, changes should happen immediately.
4. **Don't** change the label when the switch changes value.

## Additional development details

**We recommend using <a href="https://angular.io/guide/reactive-forms" target="_blank">Angular's reactive forms</a>.**

### Inputs

| Name              | Description                                                                                                                   | Type      | Default                       | Required |
|-------------------|-------------------------------------------------------------------------------------------------------------------------------|-----------|-------------------------------|----------|
| `id`              | HTML ID attribute, auto generated if not provided                                                                             | `string`  | `lg-toggle-${++nextUniqueId}` | No       |
| `name`            | HTML name attribute                                                                                                           | `string`  | `null`                        | Yes      |
| `value`           | HTML value attribute                                                                                                          | `string`  | `null`                        | Yes      |
| `focus`           | Set the focus on the switch                                                                                                   | `boolean` | `null`                        | No       |
| `ariaDescribedBy` | HTML ID for the corresponding element that describes the switch, if not provided it will use the hint field where appropriate | `boolean` | `null`                        | No       |

### Outputs

| Name   | Description                       | Type                  | Default | Required |
|--------|-----------------------------------|-----------------------|---------|----------|
| `blur` | Event emitted on blur of a toggle | `EventEmitter<Event>` | n/a     | No       |



------

## Research on this component

We've based our guidance on best practice and research from these sources:

- Nielsen Norman Group: <a href="https://www.nngroup.com/articles/toggle-switch-guidelines/" target="_blank">Toggle-Switch Guidelines</a>

## Related

Patterns which may perform a similar task, or which should be considered instead:

- [Radio buttons](./?path=/docs/components-forms-radio-guide--docs)
- [Segment](./?path=/docs/components-forms-segment-guide--docs)
- [Select](./?path=/docs/components-forms-select-guide--docs)
- [Checkbox](./?path=/docs/components-forms-checkbox-guide--docs)

<Markdown>{Feedback}</Markdown>
